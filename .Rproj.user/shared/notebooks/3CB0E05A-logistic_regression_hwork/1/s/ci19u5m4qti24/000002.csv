"0","```r
juice <- juice %>% 
  mutate(purchase_mm = if_else(purchase == \"MM\", 1, 0), .after = purchase) %>% 
  mutate(purchase_mm = as.logical(purchase_mm)) %>% 
  mutate(special_ch = if_else(special_ch == 1, \"Yes\", \"No\")) %>%
  mutate(special_mm = if_else(special_mm == 1, \"Yes\", \"No\")) %>% 
  mutate(store_id = as.factor(store_id)) %>% 
  mutate(purchase_mm = as.factor(purchase_mm)) %>% 
  mutate_if(is.character, as.factor) %>% 
  # remove variables as not useful
  select(-purchase, -store7, -store) %>% 
  # remove alias variables
  select(-sale_price_mm, -sale_price_ch, -price_diff, -list_price_diff)

glimpse(juice)
```"
"1","Rows: 1,070
Columns: 12
$ purchase_mm     <fct> FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FAL…
$ weekof_purchase <dbl> 237, 239, 245, 227, 228, 230, 232, 234, 235,…
$ store_id        <fct> 1, 1, 1, 1, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,…
$ price_ch        <dbl> 1.75, 1.75, 1.86, 1.69, 1.69, 1.69, 1.69, 1.…
$ price_mm        <dbl> 1.99, 1.99, 2.09, 1.69, 1.69, 1.99, 1.99, 1.…
$ disc_ch         <dbl> 0.00, 0.00, 0.17, 0.00, 0.00, 0.00, 0.00, 0.…
$ disc_mm         <dbl> 0.00, 0.30, 0.00, 0.00, 0.00, 0.00, 0.40, 0.…
$ special_ch      <fct> No, No, No, No, No, No, Yes, Yes, No, No, No…
$ special_mm      <fct> No, Yes, No, No, No, Yes, Yes, No, No, No, N…
$ loyal_ch        <dbl> 0.500000, 0.600000, 0.680000, 0.400000, 0.95…
$ pct_disc_mm     <dbl> 0.000000, 0.150754, 0.000000, 0.000000, 0.00…
$ pct_disc_ch     <dbl> 0.000000, 0.000000, 0.091398, 0.000000, 0.00…
"
